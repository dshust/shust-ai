<% content_for :title, "–ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å ‚Äî –≠–Ω–≤–∞" %>

<div class="flex h-[calc(100vh-56px)]">

  <%# –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å ‚Äî —á–∞—Ç %>
  <div class="w-[400px] shrink-0 bg-white border-r border-[#e5e5e5] flex flex-col">

    <%# –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞ %>
    <div class="px-5 py-4 border-b border-[#e5e5e5]">
      <h2 class="text-[15px] font-semibold text-[#1a1a1a]">–û–ø–∏—à–∏—Ç–µ —Å–µ—Ä–≤–∏—Å</h2>
      <p class="text-xs text-[#a0a0a0] mt-0.5">–ò–ò —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ –≤–∞—à–µ–º—É –æ–ø–∏—Å–∞–Ω–∏—é</p>
    </div>

    <%# –°–æ–æ–±—â–µ–Ω–∏—è %>
    <div class="flex-1 overflow-y-auto px-5 py-5 flex flex-col gap-4" id="chat-messages">

      <%# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ò–ò %>
      <div class="flex gap-3">
        <div class="w-7 h-7 rounded-lg bg-[#0062FF] flex items-center justify-center shrink-0 mt-0.5">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="none">
            <path d="M3 8h10M8 3v10" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="bg-[#f5f5f5] rounded-2xl rounded-tl-sm px-4 py-3 text-sm text-[#1a1a1a] leading-relaxed max-w-[280px]">
          –ü—Ä–∏–≤–µ—Ç! –û–ø–∏—à–∏—Ç–µ, –∫–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –≤–∞–º –Ω—É–∂–µ–Ω. –ù–∞–ø—Ä–∏–º–µ—Ä: ¬´—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–¥–∞—á–∏ –∞–≤–∞–Ω—Å–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —á–µ–∫–æ–≤¬ª –∏–ª–∏ ¬´–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ—á–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤¬ª.
        </div>
      </div>

      <%# –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –ø—Ä–∏–º–µ—Ä %>
      <div class="flex justify-end">
        <div class="bg-[#0062FF] text-white rounded-2xl rounded-tr-sm px-4 py-3 text-sm leading-relaxed max-w-[280px]">
          –•–æ—á—É —Ñ–æ—Ä–º—É –¥–ª—è –∞–≤–∞–Ω—Å–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞. –ù—É–∂–Ω—ã –ø–æ–ª—è: –§–ò–û, –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, —Ü–µ–ª—å –ø–æ–µ–∑–¥–∫–∏, –¥–∞—Ç–∞. –ü–ª—é—Å —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —á–µ–∫–æ–≤ –∏ –∏—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞.
        </div>
      </div>

      <%# –û—Ç–≤–µ—Ç –ò–ò ‚Äî –¥—É–º–∞–µ—Ç %>
      <div class="flex gap-3" id="ai-thinking">
        <div class="w-7 h-7 rounded-lg bg-[#0062FF] flex items-center justify-center shrink-0 mt-0.5">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="none">
            <path d="M3 8h10M8 3v10" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="bg-[#f5f5f5] rounded-2xl rounded-tl-sm px-4 py-3 max-w-[280px]">
          <div class="text-sm text-[#737373] mb-2">–°–æ–∑–¥–∞—é —Å–µ—Ä–≤–∏—Å...</div>
          <div class="flex items-center gap-3 text-xs text-[#a0a0a0]">
            <span class="flex items-center gap-1.5">
              <span class="w-1.5 h-1.5 rounded-full bg-[#0062FF] animate-bounce" style="animation-delay: 0ms"></span>
              <span class="w-1.5 h-1.5 rounded-full bg-[#0062FF] animate-bounce" style="animation-delay: 150ms"></span>
              <span class="w-1.5 h-1.5 rounded-full bg-[#0062FF] animate-bounce" style="animation-delay: 300ms"></span>
            </span>
            –ì–µ–Ω–µ—Ä–∏—Ä—É—é —Ñ–æ—Ä–º—É
          </div>
        </div>
      </div>

    </div>

    <%# –ü–æ–¥—Å–∫–∞–∑–∫–∏ %>
    <div class="px-5 pb-3 flex flex-col gap-2">
      <p class="text-xs text-[#a0a0a0] font-medium">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:</p>
      <div class="flex flex-wrap gap-2">
        <% [
          "–§–æ—Ä–º–∞ –∞–≤–∞–Ω—Å–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞",
          "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –§–û–¢",
          "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–≥–æ–≤–æ—Ä–∞",
          "–¢–∞–±–µ–ª—å —É—á—ë—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏"
        ].each do |hint| %>
          <button class="text-xs bg-[#f0f4ff] text-[#0062FF] px-3 py-1.5 rounded-lg hover:bg-[#e0eaff] transition-colors font-medium">
            <%= hint %>
          </button>
        <% end %>
      </div>
    </div>

    <%# –ü–æ–ª–µ –≤–≤–æ–¥–∞ %>
    <div class="p-4 border-t border-[#e5e5e5]">
      <div class="flex gap-2 items-end">
        <textarea
          id="chat-input"
          placeholder="–û–ø–∏—à–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å..."
          rows="3"
          class="flex-1 resize-none text-sm border border-[#e5e5e5] rounded-xl px-3 py-2.5 text-[#1a1a1a] placeholder-[#c0c0c0] focus:outline-none focus:border-[#0062FF] leading-relaxed"
        ></textarea>
        <button class="btn-primary h-10 px-4 shrink-0 self-end">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
          </svg>
        </button>
      </div>
    </div>

  </div>

  <%# –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å ‚Äî –ø—Ä–µ–≤—å—é –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è %>
  <div class="flex-1 flex flex-col bg-[#f5f5f5]">

    <%# –¢—É–ª–±–∞—Ä –ø—Ä–µ–≤—å—é %>
    <div class="bg-white border-b border-[#e5e5e5] px-5 h-12 flex items-center justify-between">
      <div class="flex items-center gap-2 text-sm text-[#737373]">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>
        –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
      </div>
      <div class="flex items-center gap-2">
        <span class="tag tag-blue">–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è...</span>
        <button class="btn-secondary opacity-50 cursor-not-allowed" disabled>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="16 12 12 8 8 12"/><line x1="12" y1="16" x2="12" y2="8"/></svg>
          –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
        </button>
      </div>
    </div>

    <%# –ü—Ä–µ–≤—å—é —Ñ–æ—Ä–º—ã (–±—É–¥—É—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) %>
    <div class="flex-1 overflow-y-auto p-8">
      <div class="max-w-2xl mx-auto card p-8">

        <%# –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–π —Ñ–æ—Ä–º—ã %>
        <div class="mb-6">
          <div class="flex items-center gap-3 mb-1">
            <div class="w-9 h-9 rounded-lg bg-[#f0f4ff] flex items-center justify-center text-xl">üßæ</div>
            <h2 class="text-lg font-semibold text-[#1a1a1a]">–ê–≤–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á—ë—Ç</h2>
          </div>
          <p class="text-sm text-[#737373]">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</p>
        </div>

        <%# –§–æ—Ä–º–∞ %>
        <div class="flex flex-col gap-5">

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-[#404040] mb-1.5">–§–ò–û —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</label>
              <input type="text" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" class="w-full border border-[#e5e5e5] rounded-lg px-3 py-2 text-sm text-[#1a1a1a] placeholder-[#c0c0c0] focus:outline-none focus:border-[#0062FF]">
            </div>
            <div>
              <label class="block text-sm font-medium text-[#404040] mb-1.5">–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ</label>
              <input type="text" placeholder="–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è" class="w-full border border-[#e5e5e5] rounded-lg px-3 py-2 text-sm text-[#1a1a1a] placeholder-[#c0c0c0] focus:outline-none focus:border-[#0062FF]">
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-[#404040] mb-1.5">–¶–µ–ª—å –ø–æ–µ–∑–¥–∫–∏</label>
              <input type="text" placeholder="–ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞ –≤ –ú–æ—Å–∫–≤—É" class="w-full border border-[#e5e5e5] rounded-lg px-3 py-2 text-sm text-[#1a1a1a] placeholder-[#c0c0c0] focus:outline-none focus:border-[#0062FF]">
            </div>
            <div>
              <label class="block text-sm font-medium text-[#404040] mb-1.5">–î–∞—Ç–∞</label>
              <input type="date" class="w-full border border-[#e5e5e5] rounded-lg px-3 py-2 text-sm text-[#1a1a1a] focus:outline-none focus:border-[#0062FF]">
            </div>
          </div>

          <%# –¢–∞–±–ª–∏—Ü–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ %>
          <div>
            <label class="block text-sm font-medium text-[#404040] mb-2">–†–∞—Å—Ö–æ–¥—ã</label>
            <div class="border border-[#e5e5e5] rounded-lg overflow-hidden">
              <table class="w-full text-sm">
                <thead class="bg-[#f5f5f5] text-[#737373]">
                  <tr>
                    <th class="text-left px-3 py-2 font-medium">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                    <th class="text-left px-3 py-2 font-medium w-28">–°—É–º–º–∞, ‚ÇΩ</th>
                    <th class="text-left px-3 py-2 font-medium w-32">–ß–µ–∫</th>
                    <th class="w-8"></th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-[#f0f0f0]">
                  <% [
                    { name: "–ê–≤–∏–∞–±–∏–ª–µ—Ç—ã", sum: "12 500", file: "ticket.pdf" },
                    { name: "–ì–æ—Å—Ç–∏–Ω–∏—Ü–∞ (2 –Ω–æ—á–∏)", sum: "8 400", file: "hotel.pdf" },
                    { name: "–¢–∞–∫—Å–∏", sum: "1 200", file: nil }
                  ].each do |row| %>
                    <tr>
                      <td class="px-3 py-2"><input type="text" value="<%= row[:name] %>" class="w-full border-0 focus:outline-none text-[#1a1a1a] bg-transparent"></td>
                      <td class="px-3 py-2"><input type="text" value="<%= row[:sum] %>" class="w-full border-0 focus:outline-none text-[#1a1a1a] bg-transparent"></td>
                      <td class="px-3 py-2">
                        <% if row[:file] %>
                          <span class="flex items-center gap-1 text-[#0062FF] text-xs">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                            <%= row[:file] %>
                          </span>
                        <% else %>
                          <button class="text-xs text-[#a0a0a0] hover:text-[#0062FF] flex items-center gap-1">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                            –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å
                          </button>
                        <% end %>
                      </td>
                      <td class="px-3 py-2">
                        <button class="text-[#e0e0e0] hover:text-[#ff4444] transition-colors">
                          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                        </button>
                      </td>
                    </tr>
                  <% end %>
                </tbody>
              </table>
              <div class="px-3 py-2 border-t border-[#f0f0f0]">
                <button class="text-xs text-[#0062FF] hover:underline flex items-center gap-1 font-medium">
                  <svg width="12" height="12" viewBox="0 0 14 14" fill="none"><path d="M7 1v12M1 7h12" stroke="#0062FF" stroke-width="1.8" stroke-linecap="round"/></svg>
                  –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É
                </button>
              </div>
            </div>
          </div>

          <%# –ò—Ç–æ–≥–æ %>
          <div class="flex justify-end">
            <div class="bg-[#f0f4ff] rounded-xl px-5 py-3 flex items-center gap-4">
              <span class="text-sm text-[#737373]">–ò—Ç–æ–≥–æ –∫ –≤–æ–∑–º–µ—â–µ–Ω–∏—é:</span>
              <span class="text-lg font-semibold text-[#0062FF]">22 100 ‚ÇΩ</span>
            </div>
          </div>

          <%# –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ %>
          <div class="flex justify-end pt-2">
            <button class="btn-primary px-6">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ</button>
          </div>

        </div>
      </div>
    </div>

  </div>

</div>
